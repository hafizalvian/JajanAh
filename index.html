<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JajanAh - Pesan Makanan & Minuman</title>
    <link rel="stylesheet" href="asset/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="mobile-container">
       <!-- Header -->
        <header>
            <div class="header-top">
                <div class="logo">
                    <h1>JajanAh</h1>
                    <p>Platform jajan lewat online</p>
                </div>
                <div class="header-icons">
                    <div class="cart-icon" onclick="openCart()">
                        <i class="fas fa-shopping-cart"></i>
                        <span id="cart-badge" class="badge" style="display: none;">0</span>
                    </div>
                </div>
            </div>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Cari makanan atau toko..." id="searchInput">
                <button class="search-btn" onclick="searchFood()">Cari</button>
            </div>
        </header>
        <!-- Promo Banner -->
        <div class="promo-banner">
            <img src="asset/img/banner.png" alt="Promo JajanAh">
        </div>
        <!-- Kategori -->
        <div class="categories">
            <h2>Kategori</h2>
            <div class="category-list">
                <div class="category-item">
                    <div class="category-icon">
                        <i class="fas fa-coffee"></i>
                    </div>
                    <p>Minuman</p>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <i class="fa fa-cutlery" aria-hidden="true"></i>
                    </div>
                    <p>Makanan Berat</p>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <i class="fa-solid fa-cookie-bite"></i>
                    </div>
                    <p>Cemilan</p>
                </div>
                <div class="category-item">
                    <div class="category-icon">
                        <i class="fa-solid fa-cake-candles"></i>
                    </div>
                    <p>Kue & Roti</p>
                </div>
            </div>
        </div>
        <!-- Toko Populer -->
        <div class="popular-stores">
            <h2>Toko Populer</h2>
            <div class="store-list">
                <div class="store-card" onclick="openStoreDetail('esteh')">
                    <div class="store-image">
                        <img src="asset/img/esteh.jpg" alt="Es Teh">
                    </div>
                    <div class="store-info">
                        <h3>Esteh Enak</h3>
                        <div class="store-rating">
                            <i class="fas fa-star"></i>
                            <span>4.8</span>
                            <span class="store-distance">0.5 km</span>
                        </div>
                        <p>Minuman, Teh</p>
                    </div>
                </div>
                <div class="store-card" onclick="openStoreDetail('chicken')">
                    <div class="store-image">
                        <img src="asset/img/ayam.png" alt="Chicken Crisbar">
                    </div>
                    <div class="store-info">
                        <h3>RB Chicken Crisbar</h3>
                        <div class="store-rating">
                            <i class="fas fa-star"></i>
                            <span>4.6</span>
                            <span class="store-distance">0.8 km</span>
                        </div>
                        <p>Ayam, Crispy</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Jajanan Populer -->
        <div class="popular-food">
            <h2>Jajanan Populer</h2>
            <div class="food-list">
                <div class="food-card">
                    <div class="food-image">
                        <img src="asset/img/seblak.png" alt="Seblak">
                    </div>
                    <div class="food-info">
                        <h3>Seblak Teh Ade</h3>
                        <p>Rp 15.000</p>
                    </div>
                </div>
                <div class="food-card">
                    <div class="food-image">
                        <img src="asset/img/bakso.jpg" alt="Batagor">
                    </div>
                    <div class="food-info">
                        <h3>Bako</h3>
                        <p>Rp 12.000</p>
                    </div>
                </div>
                <div class="food-card">
                    <div class="food-image">
                        <img src="asset/img/nasi goreng.png" alt="Cilok">
                    </div>
                    <div class="food-info">
                        <h3>Nasi Goreng</h3>
                        <p>Rp 10.000</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <div class="nav-item active">
                <i class="fa-solid fa-house"></i>
                <p>Beranda</p>
            </div>
            <div class="nav-item">
                <i class="fas fa-search"></i>
                <p>Cari</p>
            </div>
            <div class="nav-item" onclick="openCart()">
                <i class="fas fa-shopping-cart"></i>
                <p>Keranjang</p>
                <span id="cart-badge-nav" class="badge" style="display: none;">0</span>
            </div>
            <div class="nav-item" onclick="openSettings()">
                <i class="fas fa-info-circle"></i>
                <p>Tentang</p>
            </div>
        </nav>
    </div>
    <!-- Detail Toko (Hidden by default) -->
    <div id="store-detail" class="store-detail">
        <div class="store-detail-header">
            <i class="fas fa-arrow-left" onclick="closeStoreDetail()"></i>
            <h2 id="store-detail-name">Nama Toko</h2>
        </div>
        <div class="store-detail-banner">
            <img id="store-detail-image" src="" alt="Banner Toko">
        </div>
        <div class="store-detail-info">
            <div class="store-detail-rating">
                <i class="fas fa-star"></i>
                <span id="store-detail-rating">4.8</span>
                <span class="divider">|</span>
                <span id="store-detail-orders">1.2rb+ pesanan</span>
            </div>
            <div class="store-detail-distance">
                <i class="fas fa-map-marker-alt"></i>
                <span id="store-detail-distance">0.5 km</span>
            </div>
        </div>
        <div class="store-menu">
            <h3>Menu</h3>
            <div id="menu-list" class="menu-list">
                <!-- Menu items will be populated dynamically -->
            </div>
        </div>
    </div>
    <!-- Cart (Hidden by default) -->
    <div id="cart" class="cart">
        <div class="cart-header">
            <h3>Keranjang</h3>
            <i class="fas fa-times" onclick="closeCart()"></i>
        </div>
        <div id="cart-items" class="cart-items">
            <!-- Cart items will be populated dynamically -->
        </div>
        <div class="cart-total">
            <p>Total:</p>
            <p id="cart-total-price">Rp 0</p>
        </div>
        <button class="checkout-btn" id="checkout-button" onclick="proceedToCheckout()">Pesan Sekarang</button>
    </div>
    <!-- Checkout Screen -->
    <div id="checkout-screen" class="checkout-screen">
        <div class="checkout-header">
            <i class="fas fa-arrow-left" onclick="backToCart()"></i>
            <h3>Checkout Pesanan</h3>
        </div>
        
        <div class="checkout-items" id="checkout-items">
            <!-- Checkout items will be populated dynamically -->
        </div>
        
        <div class="delivery-details">
            <h4>Detail Pengiriman</h4>
            
            <div class="form-group">
                <label for="customer-name">Nama Lengkap</label>
                <input type="text" id="customer-name" placeholder="Masukkan nama lengkap">
            </div>
            
            <div class="form-group">
                <label for="customer-phone">Nomor Telepon</label>
                <input type="tel" id="customer-phone" placeholder="Contoh: 08123456789">
            </div>
            
            <div class="form-group">
                <label for="customer-location">Desa</label>
                <select id="customer-location">
                    <option value="">Pilih Desa</option>
                    <option value="Cibingbin">Cibingbin</option>
                    <option value="Sukamaju">Sukamaju</option>
                    <option value="Sukaharja">Sukaharja</option>
                    <option value="Sindangjawa">Sindangjawa</option>
                    <option value="Citenjo">Citenjo</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="customer-address">Alamat Lengkap</label>
                <textarea id="customer-address" rows="3" placeholder="Masukkan alamat lengkap (RT/RW, Jalan, dll)"></textarea>
            </div>
        </div>
        
        <div class="delivery-cost">
            <div class="summary-row">
                <span>Ongkos Kirim</span>
                <span id="delivery-fee">Rp 0</span>
            </div>
        </div>
        
        <div class="order-summary">
            <h4>Ringkasan Pesanan</h4>
            <div class="summary-row">
                <span>Subtotal</span>
                <span id="checkout-subtotal">Rp 0</span>
            </div>
            <div class="summary-row">
                <span>Ongkos Kirim</span>
                <span id="checkout-delivery">Rp 0</span>
            </div>
            <div class="summary-row total">
                <span>Total</span>
                <span id="checkout-total">Rp 0</span>
            </div>
        </div>
        
        <button class="confirm-order-btn" onclick="confirmOrder()">Konfirmasi Pesanan</button>
    </div>
    <!-- About Screen (formerly Settings Screen) -->
    <div id="settings-screen" class="settings-screen" style="display: none;">
        <div class="settings-header">
            <i class="fas fa-arrow-left" onclick="closeSettings()"></i>
            <h3>Tentang Aplikasi</h3>
        </div>
        <div class="about-content">
            <div class="app-logo">
                <img src="asset/img/logo.png" alt="JajanAh Logo">
            </div>
            <h2>JajanAh</h2>
            <p class="version">Versi 1.0.0</p>
            <p class="description">
                JajanAh adalah platform pemesanan makanan dan minuman online yang memudahkan Anda memesan jajanan favorit dari berbagai toko di sekitar Anda. Nikmati kemudahan memesan makanan tanpa perlu registrasi atau login.
            </p>
            <div class="developer-info">
                <h4>Dikembangkan oleh:</h4>
                <p>Tim JajanAh</p>
                <p>Email: info@jajanah.id</p>
                <p>Telepon: 0812-3456-7890</p>
            </div>
            <div class="location-selector">
                <h4>Pilih Lokasi Anda:</h4>
                <select id="location-settings" onchange="changeLocation(this.value)">
                    <option value="cibingbin">Cibingbin</option>
                    <option value="sukamaju">Sukamaju</option>
                    <option value="sukaharja">Sukaharja</option>
                    <option value="sindangjawa">Sindangjawa</option>
                    <option value="citenjo">Citenjo</option>
                </select>
            </div>
            <div class="help-support">
                <h4>Bantuan & Dukungan</h4>
                <div class="settings-option" onclick="showFAQ()">
                    <i class="fas fa-question-circle"></i>
                    <p>FAQ</p>
                </div>
                <div class="settings-option" onclick="contactSupport()">
                    <i class="fas fa-headset"></i>
                    <p>Hubungi Kami</p>
                </div>
                <div class="settings-option" onclick="showTerms()">
                    <i class="fas fa-file-alt"></i>
                    <p>Syarat & Ketentuan</p>
                </div>
            </div>
            <p class="copyright">© 2025 JajanAh. Hak Cipta Dilindungi.</p>
        </div>
    </div>
    <!-- JavaScript Files -->
    <script src="asset/js/main.js"></script>
    <script src="asset/js/store-detail.js"></script>
    <script src="asset/js/cart.js"></script>
    <script src="asset/js/checkout.js"></script>
    <script src="asset/js/settings.js"></script>
    <script src="asset/js/navigation.js"></script>
    <script src="asset/js/init.js"></script>

    <!-- Add this right before the closing </body> tag -->
    <script>
        // Debug script to check elements
        document.addEventListener('DOMContentLoaded', function() {
            console.log("DOM loaded, checking elements");
            
            // Check store detail elements
            const storeDetail = document.getElementById('store-detail');
            const storeDetailName = document.getElementById('store-detail-name');
            const storeDetailImage = document.getElementById('store-detail-image');
            const menuList = document.getElementById('menu-list');
            
            console.log("Store detail element:", storeDetail ? "Found" : "Not found");
            console.log("Store detail name element:", storeDetailName ? "Found" : "Not found");
            console.log("Store detail image element:", storeDetailImage ? "Found" : "Not found");
            console.log("Menu list element:", menuList ? "Found" : "Not found");
            
            // Check if store cards have click handlers
            const storeCards = document.querySelectorAll('.store-card');
            console.log(`Found ${storeCards.length} store cards`);
            
            storeCards.forEach((card, index) => {
                console.log(`Store card ${index + 1} has onclick:`, card.hasAttribute('onclick'));
            });
        });
    </script>

</body>
</html>